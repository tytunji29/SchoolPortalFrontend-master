<c-row>
    <c-col xs="12">
      <c-card class="mb-4">
        <c-card-header class="d-flex justify-content-between align-items-center">
          <strong>Classes List</strong>
          <!-- Add some margin to the button -->
          <button class="btn btn-primary ml-auto" (click)="openModal()">Add</button>
        </c-card-header>
        <c-card-body>
          <input
            type="text"
            [(ngModel)]="searchText"
            placeholder="Search class"
            class="form-control mb-3"
          />
          <table class="table table-striped" cTable>
            <thead>
              <tr>
                <th scope="col">SN</th>
                <th scope="col">Class</th>
                <th scope="col">Teacher Name</th>
                <th scope="col">Assistant Teacher Name</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="let con of conList | search: searchText | paginate: { itemsPerPage: 4, currentPage: p }; let i = index"
              >
                <th scope="row">{{ i + 1 }}</th>
                <td>{{ con.name }}</td>
                <td>{{ con.teacher }}</td>
                <td>{{ con.assistantTeacher }}</td>
                <td>
                  <button class="btn btn-sm btn-info" (click)="viewCountry(con)">
                    <i class="fa fa-eyes">view</i>
                  </button>
                  
                  <button class="btn btn-sm btn-warning" (click)="editCountry(con)">
                    <i class="fa fa-pencil">edit</i>
                  </button>
                  <button class="btn btn-sm btn-danger" (click)="deleteCountry(con)">
                    <i class="fa fa-times">delete</i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
          <pagination-controls (pageChange)="p = $event"></pagination-controls>
        </c-card-body>
      </c-card>
    </c-col>
  </c-row>
  
  
  <!-- Correct Modal Usage -->
  <c-modal [visible]="isModalVisible" (visibleChange)="isModalVisible = $event" backdrop="static">
    <c-modal-header>
      <h5 cModalTitle>{{ isEditMode ? 'Edit Class' : 'Add Class' }}</h5>
      <button cButtonClose (click)="closeModal()"></button>
    </c-modal-header>
    <c-modal-body>
      <!-- Form inputs for adding/editing country -->
      <form (ngSubmit)="isEditMode ? updateCountry() : saveCountry()">
        <div class="form-group">
          <label for="countryName">Class Name</label>
          <input type="text" class="form-control" id="countryName" placeholder="Name" [(ngModel)]="currentCountry.name" name="name" required>
        </div>
         <!-- Dropdown for class levels -->
      <div class="form-group">
        <label for="classLevel">Class Level</label>
        <select class="form-control" id="classLevel"  [(ngModel)]="currentCountry.classLevel" name="classLevel" required>
          <option *ngFor="let level of classLevels" [value]="level.name">{{ level.name }}</option>
          <!-- <option *ngFor="let level of classLevels" [value]="level.name">{{ level.name }}</option> -->
        </select>
      </div>
      <div class="form-group">
        <label for="classLevel">Class Head Teacher</label>
        <select class="form-control" id="classTeacher"  [(ngModel)]="currentCountry.classTeacher" name="classTeacher" required>
          <option *ngFor="let lev of classTeachers" [value]="lev.name">{{ lev.name }}</option>
          <!-- <option *ngFor="let level of classLevels" [value]="level.name">{{ level.name }}</option> -->
        </select>
      </div>
      <div class="form-group">
        <label for="classLevel">Class Assist Teacher</label>
        <select class="form-control" id="classTeacher"  [(ngModel)]="currentCountry.classAssistTeacher" name="classAsstTeacher" required>
          <option *ngFor="let lev of classTeachers" [value]="lev.name">{{ lev.name }}</option>
          <!-- <option *ngFor="let level of classLevels" [value]="level.name">{{ level.name }}</option> -->
        </select>
      </div>
      </form>
    </c-modal-body>
    <c-modal-footer>
      <button cButton color="secondary" (click)="closeModal()">Close</button>
      <button cButton color="primary" (click)="isEditMode ? updateCountry() : saveCountry()">{{ isEditMode ? 'Update' : 'Save' }}</button>
    </c-modal-footer>
  </c-modal>
  