<c-row>
    <c-col xs="12">
      <c-card class="mb-4">
        <c-card-header class="d-flex justify-content-between align-items-center">
          <strong>Schools List</strong>
          <!-- Add some margin to the button -->
          <button class="btn btn-primary ml-auto" (click)="openModal()">Add</button>
        </c-card-header>
        <c-card-body>
          <input
            type="text"
            [(ngModel)]="searchText"
            placeholder="Search schools"
            class="form-control mb-3"
          />
          <table class="table table-striped" cTable>
            <thead>
              <tr>
                <th scope="col">SN</th>
                <th scope="col">Name</th>
                <th scope="col">Address</th>
                <th scope="col">Website</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="let con of conList | search: searchText | paginate: { itemsPerPage: 4, currentPage: p }; let i = index"
              >
                <th scope="row">{{ i + 1 }}</th>
                <td>{{ con.name }}</td>
                <td>{{ con.address }}</td>
                <td>{{ con.website }}</td>
                <td>
                  <button class="btn btn-sm btn-info" (click)="viewCountry(con)">
                    <i class="fa fa-eyes">view</i>
                  </button>
                  
                  <button class="btn btn-sm btn-warning" (click)="editCountry(con)">
                    <i class="fa fa-pencil">edit</i>
                  </button>
                  <button class="btn btn-sm btn-danger" (click)="deleteCountry(con)">
                    <i class="fa fa-times">delete</i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
          <pagination-controls (pageChange)="p = $event"></pagination-controls>
        </c-card-body>
      </c-card>
    </c-col>
  </c-row>
  
  
  <!-- Correct Modal Usage -->
  <c-modal [visible]="isModalVisible" (visibleChange)="isModalVisible = $event" backdrop="static">
    <c-modal-header>
      <h5 cModalTitle>{{ isEditMode ? 'Edit School' : 'Add School' }}</h5>
      <button cButtonClose (click)="closeModal()"></button>
    </c-modal-header>
    <c-modal-body>
      <!-- Form inputs for adding/editing country -->

      <form (ngSubmit)="isEditMode ? updateCountry() : saveCountry()">
        <div class="container">
            <form>
              <div class="row">
                <!-- School Name -->
                <div class="form-group col-md-6">
                  <label for="countryName">School Name</label>
                  <input type="text" class="form-control" id="countryName" [(ngModel)]="currentCountry.name" name="name" required>
                </div>
                
                <!-- School Address -->
                <div class="form-group col-md-6">
                  <label for="countryAddress">School Address</label>
                  <input type="text" class="form-control" id="countryAddress" [(ngModel)]="currentCountry.address" name="address" required>
                </div>
              </div>
          
              <div class="row">
                <!-- School Logo -->
                <!-- <div class="form-group col-md-6">
                  <label for="countryLogo">School Logo</label>
                  <input type="text" class="form-control" id="countryLogo" [(ngModel)]="currentCountry.logo" name="logo" required>
                </div> -->
                <div class="form-group col-md-6">
                    <label for="countryLogo">School Logo</label>
                    
                    <input type="file" class="form-control" id="countryLogo" (change)="onFileChange($event)" required>
                  </div>
          
                <!-- School Theme Colour -->
                <div class="form-group col-md-6">
                    <label for="countryThemeColour">School Theme Colour</label>
                    <input type="color" class="form-control" id="countryThemeColour" [(ngModel)]="currentCountry.themeColour" name="themeColour" required>
                  </div>
              </div>
          
              <div class="row">
                <!-- School Subscription Type -->
                <div class="form-group col-md-6">
                  <label for="countrySubscriptionType">School Subscription Type</label>
                  <select class="form-control" id="countrySubscriptionType" [(ngModel)]="currentCountry.subscriptionType" name="subscriptionType" required>
                    <option value="Student">Student</option>
                    <option value="School">School</option>
                  </select>
                </div>
          
                <!-- School Subscription Type Fee -->
                <div class="form-group col-md-6">
                  <label for="countrySubscriptionTypeFee">School Subscription Type Fee</label>
                  <input type="number" class="form-control" id="countrySubscriptionTypeFee" [(ngModel)]="currentCountry.subscriptionTypeFee" name="subscriptionTypeFee" required>
                </div>
              </div>
          
              <div class="row">
                <!-- School Website -->
                <div class="form-group col-md-6">
                  <label for="countryWebsite">School Website</label>
                  <input type="text" class="form-control" id="countryWebsite" [(ngModel)]="currentCountry.website" name="website" required>
                </div>
          
                <!-- School Email -->
                <div class="form-group col-md-6">
                  <label for="countryEmail">School Email</label>
                  <input type="text" class="form-control" id="countryEmail" [(ngModel)]="currentCountry.email" name="email" required>
                </div>
              </div>
          
              <div class="row">
                <!-- Mobile Number -->
                <div class="form-group col-md-6">
                  <label for="countryMobileNumber">Mobile Number</label>
                  <input type="text" class="form-control" id="countryMobileNumber" [(ngModel)]="currentCountry.mobileNumber" name="mobileNumber" required>
                </div>
          
                <!-- Pin Key -->
                <div class="form-group col-md-6">
                  <label for="countryPinKey">Pin Key</label>
                  <input type="text" class="form-control" id="countryPinKey" [(ngModel)]="currentCountry.pinKey" name="pinKey" required>
                </div>
              </div>
            </form>
          </div>
          
      </form>
    </c-modal-body>
    <c-modal-footer>
      <button cButton color="secondary" (click)="closeModal()">Close</button>
      <button cButton color="primary" (click)="isEditMode ? updateCountry() : onSubmit()">{{ isEditMode ? 'Update' : 'Save' }}</button>
    </c-modal-footer>
  </c-modal>
  