import{a as J}from"./chunk-KEQMXZG3.js";import{a as E}from"./chunk-ZP7S6SWW.js";import{b as q,c as k,d as H,g as j,j as A,k as U,t as K,v as O}from"./chunk-EAGDHIOY.js";import{$a as G,H as R,Qa as F,Sa as L,Ya as P,_a as D,aa as W,bb as N,cb as V,e as v,o as T,ra as x,sa as B,w as b}from"./chunk-ZE63MCPL.js";import{Kb as n,Lb as o,Mb as f,Vb as h,db as m,eb as _,hc as p,ia as S,mc as d,nc as u,oc as c,qc as I,va as w,wa as C,xb as y,zb as M}from"./chunk-DRLFSV2D.js";import{f as z}from"./chunk-TMEVGU2Q.js";var g=z(J());function Q(l,r){l&1&&(n(0,"div",19),p(1," Passwords do not match! "),o())}var ae=(()=>{let r=class r{constructor(i,a){this.router=i,this.apiService=a,this.newItem={username:"",email:"",password:"",repeatpassword:""},this.passwordsMatch=!0}onPasswordChange(){this.passwordsMatch=this.newItem.password===this.newItem.repeatpassword}onSubmit(){if(!this.passwordsMatch){g.default.fire({title:"Error",text:"Passwords do not match!",icon:"error",confirmButtonText:"Retry"});return}this.apiService.post("Login/SignUp",this.newItem).subscribe({next:i=>{console.log("Register successful",i),i.status==="success"?g.default.fire({title:"Success!",text:`${i.message}`,icon:"success",confirmButtonText:"OK"}).then(()=>{localStorage.setItem("token",i.data),this.router.navigate(["/dashboard"])}):g.default.fire({title:"Error",text:`${i.message}`,icon:"error",confirmButtonText:"Retry"})},error:i=>{g.default.fire({title:"Error",text:`${i.error.message}`,icon:"error",confirmButtonText:"Retry"})}})}};r.\u0275fac=function(a){return new(a||r)(_(b),_(E))},r.\u0275cmp=S({type:r,selectors:[["app-register"]],standalone:!0,features:[I],decls:31,vars:5,consts:[[1,"bg-light","dark:bg-transparent","min-vh-100","d-flex","flex-row","align-items-center"],[1,"justify-content-center"],["lg","7","md","9","xl","6"],[1,"mx-4"],[1,"p-4"],["cForm","",3,"ngSubmit"],[1,"text-body-secondary"],[1,"mb-3"],["cInputGroupText",""],["cIcon","","name","cilUser"],["autoComplete","name","cFormControl","","placeholder","Username","name","username","required","",3,"ngModelChange","ngModel"],["autoComplete","email","cFormControl","","placeholder","Email","name","email","required","",3,"ngModelChange","ngModel"],["cIcon","","name","cilLockLocked"],["autoComplete","new-password","cFormControl","","placeholder","Password","type","password","name","password","required","",3,"ngModelChange","input","ngModel"],[1,"mb-4"],["autoComplete","new-password","cFormControl","","placeholder","Repeat password","type","password","name","repeatpassword","required","",3,"ngModelChange","input","ngModel"],["class","text-danger mb-3",4,"ngIf"],[1,"d-grid"],["cButton","","type","submit","color","success"],[1,"text-danger","mb-3"]],template:function(a,e){a&1&&(n(0,"div",0)(1,"c-container")(2,"c-row",1)(3,"c-col",2)(4,"c-card",3)(5,"c-card-body",4)(6,"form",5),h("ngSubmit",function(){return e.onSubmit()}),n(7,"h1"),p(8,"Register"),o(),n(9,"p",6),p(10,"Create your account"),o(),n(11,"c-input-group",7)(12,"span",8),w(),f(13,"svg",9),o(),C(),n(14,"input",10),c("ngModelChange",function(t){return u(e.newItem.username,t)||(e.newItem.username=t),t}),o()(),n(15,"c-input-group",7)(16,"span",8),p(17,"@"),o(),n(18,"input",11),c("ngModelChange",function(t){return u(e.newItem.email,t)||(e.newItem.email=t),t}),o()(),n(19,"c-input-group",7)(20,"span",8),w(),f(21,"svg",12),o(),C(),n(22,"input",13),c("ngModelChange",function(t){return u(e.newItem.password,t)||(e.newItem.password=t),t}),h("input",function(){return e.onPasswordChange()}),o()(),n(23,"c-input-group",14)(24,"span",8),w(),f(25,"svg",12),o(),C(),n(26,"input",15),c("ngModelChange",function(t){return u(e.newItem.repeatpassword,t)||(e.newItem.repeatpassword=t),t}),h("input",function(){return e.onPasswordChange()}),o()(),y(27,Q,2,0,"div",16),n(28,"div",17)(29,"button",18),p(30,"Create Account"),o()()()()()()()()()),a&2&&(m(14),d("ngModel",e.newItem.username),m(4),d("ngModel",e.newItem.email),m(4),d("ngModel",e.newItem.password),m(4),d("ngModel",e.newItem.repeatpassword),m(),M("ngIf",!e.passwordsMatch))},dependencies:[T,v,O,U,q,k,H,K,A,j,G,V,N,x,B,F,L,D,R,P,W]});let l=r;return l})();export{ae as RegisterComponent};
