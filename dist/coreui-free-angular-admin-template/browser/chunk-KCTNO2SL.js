import{a as J}from"./chunk-KEQMXZG3.js";import{a as T}from"./chunk-ZP7S6SWW.js";import{b as q,c as j,d as H,g as A,j as O,k as K,t as U,v as Y}from"./chunk-EAGDHIOY.js";import{$a as k,H as b,Qa as D,Sa as L,Ya as W,_a as N,aa as E,bb as G,cb as V,e as v,o as P,ra as x,sa as B,ua as F,w as R}from"./chunk-ZE63MCPL.js";import{Kb as o,Lb as r,Mb as I,Vb as c,db as d,eb as h,hc as s,ia as S,mc as u,nc as g,oc as w,qc as M,va as f,wa as C,xb as _,zb as y}from"./chunk-DRLFSV2D.js";import{f as z}from"./chunk-TMEVGU2Q.js";var l=z(J());function Q(m,i){m&1&&(o(0,"div",17),s(1," Passwords do not match! "),r())}var me=(()=>{let i=class i{constructor(e,a){this.router=e,this.apiService=a,this.newItem={email:"",password:"",role:""},this.newItemII={repeatPassword:""},this.passwordsMatch=!0}onPasswordChange(){this.passwordsMatch=this.newItem.password===this.newItemII.repeatpassword}onSubmit(){if(!this.passwordsMatch){l.default.fire({title:"Error",text:"Passwords do not match!",icon:"error",confirmButtonText:"Retry"});return}this.apiService.post("Login/ResetPassword",this.newItem).subscribe({next:e=>{console.log("Register successful",e),e.status==="success"?l.default.fire({title:"Success!",text:`${e.message}`,icon:"success",confirmButtonText:"OK"}).then(()=>{localStorage.setItem("token",e.data.token),this.router.navigate(["/dashboard"])}):(console.log("Register successful",e),l.default.fire({title:"Error",text:`${e.message}`,icon:"error",confirmButtonText:"Retry"}))},error:e=>{console.log("Register successful",e),l.default.fire({title:"Error",text:`${e.error.message}`,icon:"error",confirmButtonText:"Retry"})}})}};i.\u0275fac=function(a){return new(a||i)(h(R),h(T))},i.\u0275cmp=S({type:i,selectors:[["app-password-reset"]],standalone:!0,features:[M],decls:28,vars:4,consts:[[1,"bg-light","dark:bg-transparent","min-vh-100","d-flex","flex-row","align-items-center"],["breakpoint","md"],[1,"justify-content-center"],["lg","10","xl","8"],[1,"p-4"],["cForm","",3,"ngSubmit"],[1,"text-body-secondary"],[1,"mb-3"],["cInputGroupText",""],["autoComplete","email","cFormControl","","placeholder","Email","name","email","required","",3,"ngModelChange","ngModel"],["cIcon","","name","cilLockLocked"],["autoComplete","new-password","cFormControl","","placeholder","Password","type","password","name","password","required","",3,"ngModelChange","input","ngModel"],[1,"mb-4"],["autoComplete","new-password","cFormControl","","placeholder","Repeat password","type","password","name","repeatpassword","required","",3,"ngModelChange","input","ngModel"],["class","text-danger mb-3",4,"ngIf"],[1,"d-grid"],["cButton","","type","submit","color","success"],[1,"text-danger","mb-3"]],template:function(a,t){a&1&&(o(0,"div",0)(1,"c-container",1)(2,"c-row",2)(3,"c-col",3)(4,"c-card-group")(5,"c-card",4)(6,"c-card-body")(7,"form",5),c("ngSubmit",function(){return t.onSubmit()}),o(8,"h1"),s(9,"Password Reset"),r(),o(10,"p",6),s(11,"Change Your Password"),r(),o(12,"c-input-group",7)(13,"span",8),s(14,"@"),r(),o(15,"input",9),w("ngModelChange",function(n){return g(t.newItem.email,n)||(t.newItem.email=n),n}),r()(),o(16,"c-input-group",7)(17,"span",8),f(),I(18,"svg",10),r(),C(),o(19,"input",11),w("ngModelChange",function(n){return g(t.newItem.password,n)||(t.newItem.password=n),n}),c("input",function(){return t.onPasswordChange()}),r()(),o(20,"c-input-group",12)(21,"span",8),f(),I(22,"svg",10),r(),C(),o(23,"input",13),w("ngModelChange",function(n){return g(t.newItemII.repeatpassword,n)||(t.newItemII.repeatpassword=n),n}),c("input",function(){return t.onPasswordChange()}),r()(),_(24,Q,2,0,"div",14),o(25,"div",15)(26,"button",16),s(27,"Update My Password"),r()()()()()()()()()()),a&2&&(d(15),u("ngModel",t.newItem.email),d(4),u("ngModel",t.newItem.password),d(4),u("ngModel",t.newItemII.repeatpassword),d(),y("ngIf",!t.passwordsMatch))},dependencies:[P,k,V,G,F,x,B,D,L,N,b,W,E,Y,K,q,j,H,U,O,A,v]});let m=i;return m})();export{me as PasswordResetComponent};
